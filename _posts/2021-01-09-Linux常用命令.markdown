---
layout:      post
title:       "Linux常用命令"
subtitle:    "Linux"
author:      "Ekko"
header-img:  "img/bg/bg-Elasticsearch.jpg"
catalog:     true
tags:
  - 学习笔记
  - Linux
---

[TOC]

---

## Linux 常用命令

## pwd显示当前目录路径

pwd [--help] [--version]

* --help 在线帮助
* --version 显示版本信息

---

## ls显示目录下文件

ls [-alrtAFR] [name...]

|-alrtAFR|含义|
|:-----|:-----|
|-a|显示所有文件及目录 (. 开头的隐藏文件也会列出)|
|-l（缩写ll常用）|除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出|
|-r|将文件以相反次序显示(原定依英文字母次序)|
|-t|将文件依建立时间之先后次序列出|
|-A|同 -a ，但不列出 "." (目前目录) 及 ".." (父目录)|
|-F|在列出的文件名称后加一符号；例如可执行档则加 "*", 目录则加 "/"|
|-R|若目录下有文件，则以下之文件亦皆依序列出|

---

## file文件内容的简单描述

file "fileName" 

---

## cp复制文件和目录

cp [options] source destination 

|options|含义|
|:-----|:-----|
|-a|此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于dpR参数组合|
|-d|复制时保留链接。这里所说的链接相当于Windows系统中的快捷方式|
|-f|覆盖已经存在的目标文件而不给出提示|
|-i|与-f选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答"y"时目标文件将被覆盖|
|-p|除复制文件的内容外，还把修改时间和访问权限也复制到新文件中|
|-r|若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件|
|-l|不复制文件，只是生成链接文件|

cp /data/logs /data/log 

cp –r test/ newtest ：当前目录 test/ 下的所有文件复制到新目录 newtest 下

> 用户使用该指令复制目录时，必须使用参数 -r 或者 -R

---

## mv移动/重命名文件和目录

mv [options] source destination

|options|含义|
|:-----|:-----|
|-b|当目标文件或目录存在时，在执行覆盖钱，会为其创建一个备份|
|-i|如果指定移动的源目录或文件与目标的目录或文件同名，则会先询问是否覆盖旧文件，输入 y 表示直接覆盖，输入 n 表示取消该操作|
|-f|如果指定移动的源目录或文件与目标的目录或文件同名，不会询问，直接覆盖旧文件|
|-n|不要覆盖任何已存在的文件或目录|
|-u|当源文件比目标文件新或者目标文件不存在时，才执行移动操作|

mv test.txt new.txt：文件 test 改名 new

mv info/ logs ：info 目录放入 logs 目录中，logs 目录不存在，则将 info 改名为 logs

mv /usr/runoob/*  /home ：将 /usr/runoob 下的所有文件和目录移到 home 目录下

---

## mkdir创建目录

mkdir [-p] dirName

* -p 确保目录名称存在，不存在的就建一个
  
mkdir runoob ： 建立一个名为 runoob 的子目录 

mkdir dir1 dir2 dir3 ： 创建三个目录，名为 dir1, dir2, dir3

---

## rm删除文件或目录

rm [options] name...

|options|含义|
|:-----|:-----|
|-i|删除前逐一询问确认|
|-f|即使原档案属性设为唯读，亦直接删除，无需逐一确认|
|-r|将目录及以下之档案亦逐一删除|

> 删除文件可以直接使用rm命令，若删除目录则必须配合选项"-r"

rm test.txt ： 删除文件，会有提示

rm homework ： 无法删除目录"homework": 是一个目录 

rm -r  homework ： 是否删除 目录 "homework"? y

---

## ln创建硬链接和符号链接

ln [参数] [源文件或目录] [目标文件或目录]

当需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在 其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间

硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统

---

## grep查找打印匹配行

grep [-abcEFGhHilLnqrsvVwxy] [-A<显示列数>] [-B<显示列数>] [-C<显示行数>] [-d<进行动作>] [-e<范本样式>] [-f<范本文件>] [--help] [范本样式] [文件或目录...]

grep "被查找的字符串" 文件名

|参数|含义|
|:-----|:-----|
|-a 或 --text | 不要忽略二进制的数据。|
|-A<显示行数> 或 --after-context=<显示行数> | 除了显示符合范本样式的那一列之外，并显示该行之后的内容。|
|-b 或 --byte-offset | 在显示符合样式的那一行之前，标示出该行第一个字符的编号。|
|-B<显示行数> 或 --before-context=<显示行数> | 除了显示符合样式的那一行之外，并显示该行之前的内容。|
|-c 或 --count | 计算符合样式的列数。|
|-C<显示行数> 或 --context=<显示行数>或-<显示行数> | 除了显示符合样式的那一行之外，并显示该行之前后的内容。|
|-d <动作> 或 --directories=<动作> | 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。|
|-e<范本样式> 或 --regexp=<范本样式> | 指定字符串做为查找文件内容的样式。|
|-E 或 --extended-regexp | 将样式为延伸的正则表达式来使用。|
|-f<规则文件> 或 --file=<规则文件> | 指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。|
|-F 或 --fixed-regexp | 将样式视为固定字符串的列表。|
|-G 或 --basic-regexp | 将样式视为普通的表示法来使用。|
|-h 或 --no-filename | 在显示符合样式的那一行之前，不标示该行所属的文件名称。|
|-H 或 --with-filename | 在显示符合样式的那一行之前，表示该行所属的文件名称。|
|-i 或 --ignore-case | 忽略字符大小写的差别。|
|-l 或 --file-with-matches | 列出文件内容符合指定的样式的文件名称。|
|-L 或 --files-without-match | 列出文件内容不符合指定的样式的文件名称。|
|-n 或 --line-number | 在显示符合样式的那一行之前，标示出该行的列数编号。|
|-o 或 --only-matching | 只显示匹配PATTERN 部分。|
|-q 或 --quiet或--silent | 不显示任何信息。|
|-r 或 --recursive | 此参数的效果和指定"-d recurse"参数相同。|
|-s 或 --no-messages | 不显示错误信息。|
|-v 或 --invert-match | 显示不包含匹配文本的所有行。|
|-V 或 --version | 显示版本信息。|
|-w 或 --word-regexp | 只显示全字符合的列。|
|-x --line-regexp | 只显示全列符合的列。|
|-y | 此参数的效果和指定"-i"参数相同。|

grep test *file ： 找后缀有 file 字样的文件中包含 test 字符串的文件，并打印出该字符串的行

grep -r update /etc/acpi ： 递归的方式查找符合条件的文件。例如，查找指定目录/etc/acpi 及其子目录（如果存在子目录的话）下所有文件中包含字符串"update"的文件，并打印出该字符串所在行的内容

---

## head/tail打印文件开头部分/结尾部分

tail [参数] [文件]  

tail -C 5 'String' fileName 表示 fileName 文件前后 5 行

tail -n 500 fileName 表示 fileName 文件后 500 行

head 命令打印文件的前十行，而 tail 命令打印文件的后十行。默认情况下，两个命令 都打印十行文本。可以通过”-n”选项来调整命令打印的行数

tail 命令可用于查看文件的内容，有一个常用的参数 -f 常用于查阅正在改变的日志文件。

tail -f filename 会把 filename 文件里的最尾部的内容显示在屏幕上，并且不断刷新，只要 filename 更新就可以看到最新的文件内容

|tail 参数|含义|
|:-----|:-----|
|-f| 循环读取|
|-q| 不显示处理信息|
|-v |显示详细的处理信息
|-c<数目> |显示的字节数|
|-n<行数>| 显示文件的尾部 n 行内容|
|--pid=PID 与-f合用|表示在进程ID,PID死掉之后结束|
|-q, --quiet, --silent |从不输出给出文件名的首部|
|-s, --sleep-interval=S 与-f合用|表示在每次反复的间隔休眠S秒|

head [参数] [文件]

|head 参数|含义|
|:-----|:-----|
|-q |隐藏文件名|
|-v |显示文件名|
|-c<数目> |显示的字节数|
|-n<行数> |显示的行数|

---

## 键盘操作

### 移动光标

|按键|含义|
|:-----|:-----|
|Ctrl-a|	移动光标到行首。|
|Ctrl-e|	移动光标到行尾。|
|Ctrl-f	|光标前移一个字符；和右箭头作用一样。|
|Ctrl-b|	光标后移一个字符；和左箭头作用一样。|
|Alt-f|	光标前移一个字。|
|Alt-b|	光标后移一个字。|
|Ctrl-l|	清空屏幕，移动光标到左上角。clear 命令完成同样的工作|

### 文本编辑命令

|按键|含义|
|:-----|:-----|
|Ctrl-d	|删除光标位置的字符。|
|Ctrl-t|	光标位置的字符和光标前面的字符互换位置。|
|Alt-t|	光标位置的字和其前面的字互换位置。|
|Alt-l|	把从光标位置到字尾的字符转换成小写字母。|
|Alt-u|	把从光标位置到字尾的字符转换成大写字母。|

### 剪切和粘贴命令

|按键|含义|
|:-----|:-----|
|Ctrl-k	|剪切从光标位置到行尾的文本。|
|Ctrl-u	|剪切从光标位置到行首的文本。|
|Alt-d	|剪切从光标位置到词尾的文本。|
|Alt-Backspace|	剪切从光标位置到词头的文本。如果光标在一个单词的开头，剪切前一个单词。|
|Ctrl-y	|把剪切环中的文本粘贴到光标位置。|

---

## id显示用户信息

id [-gGnru] [--help] [--version] [用户名称]

|按键|含义|
|:-----|:-----|
|-g或--group |　显示用户所属群组的ID。|
|-G或--groups |　显示用户所属附加群组的ID。|
|-n或--name |　显示用户，所属群组或附加群组的名称。|
|-r或--real |　显示实际ID。|
|-u或--user |　显示用户ID。|
|-help |　显示帮助。|
|-version| 　显示版本信息|

id 表示显示当前用户ID

输出 : uid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel) context=root:system_r:unconfined_t

---

## chmod控制文件权限

chmod [-cfvR] [--help] [--version] mode file...

Linux/Unix 的文件调用权限分为三级 : 文件所有者（Owner）、用户组（Group）、其它用户（Other Users）

前十个字符是文件的属性。这十个字符的第一个字符表明文件类型

例如输入 ll 查看文件列表

-rw-rw-r--

* 1 位字符:  File Type 文件类型
* 2、3、4 位字符： Owner 文件所有者
* 5、6、7 位字符： Group 用户组
* 8、9、10 位字符： Other Users 其它用户

八进制语法：

![chmod文件权限](https://gitee.com/zxNchuPG/blogimage/raw/master/img/chmod%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90.png)

765 将这样解释：

所有者的权限用数字表达：属主的那三个权限位的数字加起来的总和。如 rwx ，也就是 4+2+1 ，应该是 7。
用户组的权限用数字表达：属组的那个权限位数字的相加的总和。如 rw- ，也就是 4+2+0 ，应该是 6。
其它用户的权限数字表达：其它用户权限位的数字相加的总和。如 r-x ，也就是 4+0+1 ，应该是 5。

|第一个字符属性|含义|
|:-----|:-----|
|-|	一个普通文件|
|d|	一个目录|
|l|	一个符号链接。注意对于符号链接文件，剩余的文件属性总是"rwxrwxrwx"，而且都是 虚拟值。真正的文件属性是指符号链接所指向的文件的属性。|
|c|	一个字符设备文件。这种文件类型是指按照字节流，来处理数据的设备。 比如说终端机，|或者调制解调器|
|b|	一个块设备文件。这种文件类型是指按照数据块，来处理数据的设备，例如一个硬盘，或者 CD-ROM 盘。|

例如： chmod 777 filename

---

## ps进程

ps [options] [--help]

用于显示当前进程的状态，类似于 windows 的任务管理器

常用： ps -ef | grep 进程号

-e 与 -A 相似，列出所有的进程

-f 做一个更为完整的输出

---

## kill杀死程序

常用 kill -9 pid（进程号）

netstat | grep 8080